<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Configure Movie Library</title>
  <script src="assets/configure.js"></script>
  
  <style>
    body {
      line-height: 150%;
      font-family: Arial, Helvetica, sans-serif;
      margin: 20px;
    }
    pre {
      line-height: 110%;
    }
    ol > li {
      margin-bottom: 20px;
    }
    table {
      border-collapse: collapse;
    }
    td, th {
      padding: 0px 4px;
      border: 1px solid;
    }
    #previewTable img {
      max-width: 100px;
      max-height: 50px;
    }
  </style>
</head>
<body>
  <ul>
    <li><a href="configure.html">Configure</a></li>
    <li><a href="playerScripts.html">Player Scripts</a></li>
  </ul>
    
  <p>
    We will look for and match metadata, image, and video files using the following filename
    structure. Note that the folder name/directory is ignored and not considered when matching. This
    structure can be generated by tinyMediaManager (v3 is free) by updating the filename patterns in
    Settings -> Movies -> Images -> Artwork Filenames.
  </p>
  <p>
    NFO files must be in Kodi format.
  </p>
  <table>
    <tr><td>Metadata       </td><td><code>{basename}.nfo</code></td></tr>
    <tr><td>Video          </td><td><code>{basename}.{ext}</code></td></tr>
    <tr><td>Grid Image     </td><td><code>{basename}-thumb.jpg</code></td></tr>
    <tr><td>Logo Image     </td><td><code>{basename}-clearlogo.png</code></td></tr>
    <tr><td>Backgound Image</td><td><code>{basename}-keyart.jpg</code></td></tr>
  </table>
  <p>
    For example, this would correctly match 3 movies in <code>D:\Movies\</code>
  </p>
  <pre>
D:\Movies\My Movie (2016)\mymovie.mp4
D:\Movies\My Movie (2016)\mymovie.nfo
D:\Movies\My Movie (2016)\mymovie-thumb.jpg
D:\Movies\bmovie.mp4
D:\Movies\bmovie.nfo
D:\Movies\bmovie-thumb.jpg
D:\Movies\anothermovie.mp4
D:\Movies\metadata\fubar\anothermovie.nfo
D:\Movies\metadata\fubar\anothermovie-thumb.jpg
  </pre>
  
  <hr />
  
  <ol>
    <li>
      Select a directory containing your movies and metadata.<br />
      <input id="fileInput" type="file" webkitdirectory />
    </li>
    <li>
      Enter the full path of the parent of the directory you selected. For example, if you selected
      <code>D:\Content\Movies\</code> enter <code>D:\Content\</code><br />
      <input id="rootDirInput" type="text" />
    </li>
    <li>
      Configure some optional settings:<br />
      <ul>
        <li>
          <input id="enableGridNavWrapCheck" type="checkbox" />
          <label for="enableGridNavWrapCheck">Enable Grid Nav Wrap</label>
          - Moving horizontally past the edge wraps to the previous or next line.
        </li>
        <li>
          <input id="enableMouseAtStartCheck" type="checkbox" />
          <label for="enableMouseAtStartCheck">Enable Mouse at Start</label>
          - Keeps the mouse enabled at startup rather than immediately hiding it.
        </li>
      </ul>
    </li>
    <li>
      Generate and preview the configuration below. If the video filename is not valid and/or the
      images do not load, alter the values entered above.<br />
      <button id="generateButton">Generate</button>
    </li>
    <li>
      Download and save configuration as <code>config.js</code> next to (in the same folder as)
      <code>movieLibrary.html</code><br />
      <a id="downloadLink">Download</a>
    </li>
  </ol>
  
  <p>
    <textarea id="log" readonly cols="50" rows="5"></textarea>
  </p>
  
  <table id="previewTable">
    <tr>
      <th>Title</th>
      <th>Video Filename</th>
      <th>Grid Image</th>
    </tr>
  </table>
  
  <p>
    <textarea id="configPreview" readonly cols="50" rows="5"></textarea>
  </p>
</body>
</html>